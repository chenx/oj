最近VO遇到的coding题，应该是新题，地里好像还没人发过。面试官表示也是第一次问这道题，所以题目本身以及不少test cases都解释不清楚。
题目应该有好几问，我只做完了前两问
以下内容需要积分高于 250 您已经可以浏览

理解题目需要一些音乐知识，这个就非常坑。。

第一问​
把beats转换为​五线谱的音长。
input：“a 1 0 1 1”
output：“a2 a4 a4”
这里a是乐器的名字，之后的0 1字符串代表了节奏，“1 0”就是二分音符，“1 1”是两个四分音符。这问test cases里面还有八分音符和十六分音符。。

第二问​
把几种乐器的beats一起转换为​五线谱的音长
input​：“a 1 0 1 1”，"b 0 0 1 0"
output："a2 [a,b]4 a4"

要求是在一个节拍上一样的音长的乐器得group到一起。test cases里面有​三四种乐器的情况

–

可以参考一下我回家后写的这个答案

def convert(noteLines: str) -> str:
    beats = []
    instruments = []
    for notes in noteLines.split("\n"):
        instrument, *_beats = notes.split(" ")
        beats.append(_beats)
        instruments.append(instrument)

    N = len(beats[0])
    K = len(instruments)

    beatsSoFar = 0
    hasBeat1 = 0
    namesSoFar = set()
    res = ""
    for i in range(N):
        namesAtThisColumn = set()
        for k in range(K):
            beat = int(beats[k][i])
            # 0|1 = 1, 1|1 = 1
            hasBeat1 = hasBeat1 | beat
            if beat > 0:
                namesAtThisColumn.add(k)

        if hasBeat1:
            if beatsSoFar > 0:
                # collect the result
                ins = (
                    instruments[namesSoFar.pop()]
                    if len(namesSoFar) == 1
                    else f"<{','.join(instruments[x] for x in namesSoFar)}>"
                )
                res += f"{ins}{N//beatsSoFar}" + " "
            hasBeat1 = 0
            # has beat 1 so beat so far reset to 1
            beatsSoFar = 1
            namesSoFar = namesAtThisColumn

        else:
            # extend the beat
            beatsSoFar += 1
            namesSoFar = namesSoFar | namesAtThisColumn

    if beatsSoFar > 0:
        # collect the result
        ins = (
            instruments[namesSoFar.pop()]
            if len(namesSoFar) == 1
            else f"<{','.join(instruments[x] for x in namesSoFar)}>"
        )
        res += f"{ins}{N//beatsSoFar}"
    return res


# a 1 0 1 1
# b 0 0 1 0
# => a2 <a,b>4 a4

res = convert("a 1 0 1 1\nb 0 0 1 0")
assert res == "a2 <a,b>4 a4"

–

应该是这样：
Input: “a 1 0 1 1”，"b 0 1 1 0", Output: "a4 b4 [a,b]4 a4"
Input: “a 1 0 1 1”，"b 1 0 1 0", Output: "[a,b]2 [a,b]4 a4"
input: "a 1 0 1 1  0 0 0 1", Output: "a4 a8 a2 a8"

数字取倒加起来要等于1
1/4 + 1/8 + 1/2 + 1/8 = 1
这才是一拍
